{
  "624": {
    "title": "Two heads are better than one",
    "url": "https://projecteuler.net/problem=624",
    "content": {
      "files": [],
      "text": "\n\nAn unbiased coin is tossed repeatedly until two consecutive heads are obtained. Suppose these occur on the $(M-1)$th and $M$th toss.\nLet $P(n)$ be the probability that $M$ is divisible by $n$. For example, the outcomes HH, HTHH, and THTTHH all count towards $P(2)$, but THH and HTTHH do not.\n\nYou are given that $P(2) =\\frac 3 5$ and $P(3)=\\frac 9  {31}$. Indeed, it can be shown that $P(n)$ is always a rational number.\n\nFor a prime $p$ and a fully reduced fraction $\\frac a b$, define $Q(\\frac a b,p)$ to be the smallest positive $q$ for which $a \\equiv b q \\pmod{p}$.\nFor example $Q(P(2), 109) = Q(\\frac 3 5, 109) = 66$, because $5 \\cdot 66 = 330 \\equiv 3 \\pmod{109}$ and 66 is the smallest positive such number.\nSimilarly $Q(P(3),109) = 46$.\n\nFind $Q(P(10^{18}),1\\,000\\,000\\,009)$.\n",
      "html": "\n<p>\nAn unbiased coin is tossed repeatedly until two consecutive heads are obtained. Suppose these occur on the $(M-1)$th and $M$th toss.<br/>\nLet $P(n)$ be the probability that $M$ is divisible by $n$. For example, the outcomes HH, HTHH, and THTTHH all count towards $P(2)$, but THH and HTTHH do not.</p>\n<p>\nYou are given that $P(2) =\\frac 3 5$ and $P(3)=\\frac 9  {31}$. Indeed, it can be shown that $P(n)$ is always a rational number.</p>\n<p>\nFor a prime $p$ and a fully reduced fraction $\\frac a b$, define $Q(\\frac a b,p)$ to be the smallest positive $q$ for which $a \\equiv b q \\pmod{p}$.<br/>\nFor example $Q(P(2), 109) = Q(\\frac 3 5, 109) = 66$, because $5 \\cdot 66 = 330 \\equiv 3 \\pmod{109}$ and 66 is the smallest positive such number.<br/>\nSimilarly $Q(P(3),109) = 46$.</p>\n<p>\nFind $Q(P(10^{18}),1\\,000\\,000\\,009)$.</p>\n",
      "images": []
    },
    "info": {
      "published": "Saturday, 7th April 2018, 01:00 pm",
      "solved": "319",
      "difficulty": null
    },
    "number": 624
  },
  "625": {
    "title": "Gcd sum",
    "url": "https://projecteuler.net/problem=625",
    "content": {
      "files": [],
      "text": "\n\n$G(N)=\\sum_{j=1}^N\\sum_{i=1}^j \\text{gcd}(i,j)$. \nYou are given: $G(10)=122$.\n\nFind $G(10^{11})$. Give your answer modulo 998244353\n\n",
      "html": "\n<p>\n$G(N)=\\sum_{j=1}^N\\sum_{i=1}^j \\text{gcd}(i,j)$. <br/>\nYou are given: $G(10)=122$.</p>\n<p>\nFind $G(10^{11})$. Give your answer modulo 998244353\n</p>\n",
      "images": []
    },
    "info": {
      "published": "Saturday, 21st April 2018, 04:00 pm",
      "solved": "261",
      "difficulty": null
    },
    "number": 625
  },
  "626": {
    "title": "Counting Binary Matrices",
    "url": "https://projecteuler.net/problem=626",
    "content": {
      "files": [],
      "text": "\nA binary matrix is a matrix consisting entirely of 0s and 1s. Consider the following transformations that can be performed on a binary matrix:\nSwap any two rows\nSwap any two columns\nFlip all elements in a single row (1s become 0s, 0s become 1s)\nFlip all elements in a single column\nTwo binary matrices $A$ and $B$ will be considered equivalent if there is a sequence of such transformations that when applied to $A$ yields $B$. For example, the following two matrices are equivalent:\n$A=\\begin{pmatrix} \n  1 & 0 & 1 \\\\ \n  0 & 0 & 1 \\\\\n  0 & 0 & 0 \\\\\n\\end{pmatrix} \\quad B=\\begin{pmatrix} \n  0 & 0 & 0 \\\\ \n  1 & 0 & 0 \\\\\n  0 & 0 & 1 \\\\\n\\end{pmatrix}$\nvia the sequence of two transformations \"Flip all elements in column 3\" followed by \"Swap rows 1 and 2\".\nDefine $c(n)$ to be the maximum number of $n\\times n$ binary matrices that can be found such that no two are equivalent. For example, $c(3)=3$. You are also given that $c(5)=39$ and $c(8)=656108$.\nFind $c(20)$, and give your answer modulo $1\\,001\\,001\\,011$.\n",
      "html": "\n<p>A binary matrix is a matrix consisting entirely of 0s and 1s. Consider the following transformations that can be performed on a binary matrix:</p>\n<ul><li>Swap any two rows</li>\n<li>Swap any two columns</li>\n<li>Flip all elements in a single row (1s become 0s, 0s become 1s)</li>\n<li>Flip all elements in a single column</li>\n</ul><p>Two binary matrices $A$ and $B$ will be considered <i>equivalent</i> if there is a sequence of such transformations that when applied to $A$ yields $B$. For example, the following two matrices are equivalent:</p>\n$A=\\begin{pmatrix} \n  1 &amp; 0 &amp; 1 \\\\ \n  0 &amp; 0 &amp; 1 \\\\\n  0 &amp; 0 &amp; 0 \\\\\n\\end{pmatrix} \\quad B=\\begin{pmatrix} \n  0 &amp; 0 &amp; 0 \\\\ \n  1 &amp; 0 &amp; 0 \\\\\n  0 &amp; 0 &amp; 1 \\\\\n\\end{pmatrix}$\n<p>via the sequence of two transformations \"Flip all elements in column 3\" followed by \"Swap rows 1 and 2\".</p>\n<p>Define $c(n)$ to be the maximum number of $n\\times n$ binary matrices that can be found such that no two are equivalent. For example, $c(3)=3$. You are also given that $c(5)=39$ and $c(8)=656108$.</p>\n<p>Find $c(20)$, and give your answer modulo $1\\,001\\,001\\,011$.</p>\n",
      "images": []
    },
    "info": {
      "published": "Saturday, 5th May 2018, 07:00 pm",
      "solved": "127",
      "difficulty": null
    },
    "number": 626
  },
  "627": {
    "title": "Counting products",
    "url": "https://projecteuler.net/problem=627",
    "content": {
      "files": [],
      "text": "\nConsider the set $S$ of all possible products of $n$ positive integers not exceeding $m$, that is \n$S=\\{ x_1x_2\\dots x_n \\, | \\, 1 \\le x_1, x_2, ..., x_n \\le m \\}$.\n\nLet $F(m,n)$ be the number of the distinct elements of the set $S$.\nFor example, $F(9, 2) = 36$ and $F(30,2)=308$.\nFind $F(30, 10001)\\text{ mod }1\\,000\\,000\\,007$.\n",
      "html": "\n<p>Consider the set $S$ of all possible products of $n$ positive integers not exceeding $m$, that is<br/> \n$S=\\{ x_1x_2\\dots x_n \\, | \\, 1 \\le x_1, x_2, ..., x_n \\le m \\}$.<br/>\n\nLet $F(m,n)$ be the number of the distinct elements of the set $S$.<br/>\nFor example, $F(9, 2) = 36$ and $F(30,2)=308$.</p>\n<p>Find $F(30, 10001)\\text{ mod }1\\,000\\,000\\,007$.</p>\n",
      "images": []
    },
    "info": {
      "published": "Saturday, 19th May 2018, 10:00 pm",
      "solved": "141",
      "difficulty": null
    },
    "number": 627
  },
  "628": {
    "title": "Open chess positions",
    "url": "https://projecteuler.net/problem=628",
    "content": {
      "files": [],
      "text": "\n\nA position in chess is an (orientated) arrangement of chess pieces placed on a chessboard of given size. In the following, we consider all positions in which $n$ pawns are placed on a  $n \\times n$  \nboard in such a way, that there is a single pawn in every row and every column.\n\n\n\nWe call such a position an open position, if a rook, starting at the (empty) lower left corner and using only moves towards the right or upwards, can reach the upper right corner without moving onto any field occupied by a pawn. \n\nLet $f(n)$ be the number of open positions for a $n \\times n$ chessboard.\nFor example, $f(3)=2$, illustrated by the two open positions for a $3  \\times 3$ chessboard below.\n\n\n\n\nYou are also given $f(5)=70$.\nFind $f(10^8)$ modulo $1\\,008\\,691\\,207$.\n",
      "html": "\n<p>\nA position in chess is an (orientated) arrangement of chess pieces placed on a chessboard of given size. In the following, we consider all positions in which $n$ pawns are placed on a  $n \\times n$  \nboard in such a way, that there is a single pawn in every row and every column.\n\n</p>\n<p>\nWe call such a position an <i>open</i> position, if a rook, starting at the (empty) lower left corner and using only moves towards the right or upwards, can reach the upper right corner without moving onto any field occupied by a pawn. \n</p>\n<p>Let $f(n)$ be the number of open positions for a $n \\times n$ chessboard.<br/>\nFor example, $f(3)=2$, illustrated by the two open positions for a $3  \\times 3$ chessboard below.\n\n</p>\n<table align=\"center\"><tr><td><img alt=\"Open position 1\" src=\"project/images/p628_chess4.png\"/></td><td width=\"60\"></td><td><img alt=\"Open position 2\" src=\"project/images/p628_chess5.png\"/></td>\n</tr></table><p>\nYou are also given $f(5)=70$.</p>\n<p>Find $f(10^8)$ modulo $1\\,008\\,691\\,207$.</p>\n",
      "images": [
        "project/images/p628_chess4.png",
        "project/images/p628_chess5.png"
      ]
    },
    "info": {
      "published": "Sunday, 3rd June 2018, 01:00 am",
      "solved": "305",
      "difficulty": null
    },
    "number": 628
  },
  "629": {
    "title": "Scatterstone Nim",
    "url": "https://projecteuler.net/problem=629",
    "content": {
      "files": [],
      "text": "\nAlice and Bob are playing a modified game of Nim called Scatterstone Nim, with Alice going first, alternating turns with Bob. The game begins with an arbitrary set of stone piles with a total number of stones equal to $n$.\nDuring a player's turn, he/she must pick a pile having at least $2$ stones and perform a split operation, dividing the pile into an arbitrary set of $p$ non-empty, arbitrarily-sized piles where $2 \\leq p \\leq k$ for some fixed constant $k$. For example, a pile of size $4$ can be split into $\\{1, 3\\}$ or $\\{2, 2\\}$, or $\\{1, 1, 2\\}$ if $k = 3$ and in addition $\\{1, 1, 1, 1\\}$ if $k = 4$.\nIf no valid move is possible on a given turn, then the other player wins the game.\nA winning position is defined as a set of stone piles where a player can ultimately ensure victory no matter what the other player does. \nLet $f(n,k)$ be the number of winning positions for Alice on her first turn, given parameters $n$ and $k$. For example, $f(5, 2) = 3$ with winning positions $\\{1, 1, 1, 2\\}, \\{1, 4\\}, \\{2, 3\\}$. In contrast, $f(5, 3) = 5$ with winning positions $\\{1, 1, 1, 2\\}, \\{1, 1, 3\\}, \\{1, 4\\}, \\{2, 3\\}, \\{5\\}$.\nLet $g(n)$ be the sum of $f(n,k)$ over all $2 \\leq k \\leq n$. For example, $g(7)=66$ and $g(10)=291$.\nFind $g(200)$ mod $(10^9 + 7)$.\n",
      "html": "\n<p>Alice and Bob are playing a modified game of Nim called Scatterstone Nim, with Alice going first, alternating turns with Bob. The game begins with an arbitrary set of stone piles with a total number of stones equal to $n$.</p>\n<p>During a player's turn, he/she must pick a pile having at least $2$ stones and perform a split operation, dividing the pile into an arbitrary set of $p$ non-empty, arbitrarily-sized piles where $2 \\leq p \\leq k$ for some fixed constant $k$. For example, a pile of size $4$ can be split into $\\{1, 3\\}$ or $\\{2, 2\\}$, or $\\{1, 1, 2\\}$ if $k = 3$ and in addition $\\{1, 1, 1, 1\\}$ if $k = 4$.</p>\n<p>If no valid move is possible on a given turn, then the other player wins the game.</p>\n<p>A winning position is defined as a set of stone piles where a player can ultimately ensure victory no matter what the other player does. </p>\n<p>Let $f(n,k)$ be the number of winning positions for Alice on her first turn, given parameters $n$ and $k$. For example, $f(5, 2) = 3$ with winning positions $\\{1, 1, 1, 2\\}, \\{1, 4\\}, \\{2, 3\\}$. In contrast, $f(5, 3) = 5$ with winning positions $\\{1, 1, 1, 2\\}, \\{1, 1, 3\\}, \\{1, 4\\}, \\{2, 3\\}, \\{5\\}$.</p>\n<p>Let $g(n)$ be the sum of $f(n,k)$ over all $2 \\leq k \\leq n$. For example, $g(7)=66$ and $g(10)=291$.</p>\n<p>Find $g(200)$ mod $(10^9 + 7)$.</p>\n",
      "images": []
    },
    "info": {
      "published": "Sunday, 17th June 2018, 04:00 am",
      "solved": "122",
      "difficulty": null
    },
    "number": 629
  },
  "630": {
    "title": "Crossed lines",
    "url": "https://projecteuler.net/problem=630",
    "content": {
      "files": [],
      "text": "\n\nGiven a set, $L$, of unique lines, let $M(L)$ be the number of lines in the set and let $S(L)$ be the sum over every line of the number of times that line is crossed by another line in the set.  For example, two sets of three lines are shown below:\n\n\n\nIn both cases M(L) is 3 and S(L) is 6: each of the three lines is crossed by two other lines.  Note that even if the lines cross at a single point, all of the separate crossings of lines are counted.\n\n\nConsider points ($T_{2k\u22121}$,\u2009$T_{2k}$), for integer $k\u2009>= 1$, generated in the following way:\n\n\n$S_0 \t=  \t290797$ \n$S_{n+1} \t=  \t{S_n}^2 \\:\\: \\rm{mod} \\:\\: 50515093$\n$T_n \t=  \t(\u2009S_n \\:\\: \\rm{mod} \\:\\: 2000\u2009) \u2212 1000$\n\n\nFor example, the first three points are: (527,\u2009144), (\u2212488,\u2009732), (\u2212454,\u2009\u2212947).  Given the first $n$ points generated in this manner, let $L_n$ be the set of unique lines that can be formed by joining each point with every other point, the lines being extended indefinitely in both directions.  We can then define $M(L_n)$ and $S(L_n)$ as described above.\n\n\nFor example, $M(L_3) = 3$ and $S(L_3) = 6$.  Also $M(L_{100}) = 4948$ and $S(L_{100}) = 24477690$.\n\nFind $S(L_{2500})$.\n\n",
      "html": "\n<p>\nGiven a set, $L$, of unique lines, let $M(L)$ be the number of lines in the set and let $S(L)$ be the sum over every line of the number of times that line is crossed by another line in the set.  For example, two sets of three lines are shown below:\n</p>\n<div align=\"center\"><img alt=\"crossed lines\" src=\"project/images/p630_threelines.png\"/></div>\n<p>\nIn both cases M(L) is 3 and S(L) is 6: each of the three lines is crossed by two other lines.  Note that even if the lines cross at a single point, all of the separate crossings of lines are counted.\n</p>\n<p>\nConsider points ($T_{2k\u22121}$,\u2009$T_{2k}$), for integer $k\u2009&gt;= 1$, generated in the following way:\n</p>\n<p>\n$S_0 \t=  \t290797$<br/> \n$S_{n+1} \t=  \t{S_n}^2 \\:\\: \\rm{mod} \\:\\: 50515093$<br/>\n$T_n \t=  \t(\u2009S_n \\:\\: \\rm{mod} \\:\\: 2000\u2009) \u2212 1000$\n</p>\n<p>\nFor example, the first three points are: (527,\u2009144), (\u2212488,\u2009732), (\u2212454,\u2009\u2212947).  Given the first $n$ points generated in this manner, let $L_n$ be the set of <b>unique</b> lines that can be formed by joining each point with every other point, the lines being extended indefinitely in both directions.  We can then define $M(L_n)$ and $S(L_n)$ as described above.\n</p>\n<p>\nFor example, $M(L_3) = 3$ and $S(L_3) = 6$.  Also $M(L_{100}) = 4948$ and $S(L_{100}) = 24477690$.\n</p><p>\nFind $S(L_{2500})$.\n</p>\n",
      "images": [
        "project/images/p630_threelines.png"
      ]
    },
    "info": {
      "published": "Sunday, 1st July 2018, 07:00 am",
      "solved": "308",
      "difficulty": null
    },
    "number": 630
  },
  "631": {
    "title": "Constrained Permutations",
    "url": "https://projecteuler.net/problem=631",
    "content": {
      "files": [],
      "text": "\nLet $(p_1 p_2 \\ldots p_k)$ denote the permutation of the set ${1, ..., k}$ that maps $p_i\\mapsto i$. Define the length of the permutation to be $k$; note that the empty permutation $()$ has length zero.\nDefine an occurrence of a permutation $p=(p_1 p_2 \\ldots p_k)$ in a permutation $P=(P_1 P_2 \\ldots P_n)$ to be a sequence $1\\leq t_1 < t_2 < \\cdots < t_k \\leq n$ such that $p_i < p_j$ if and only if $P_{t_i} < P_{t_j}$ for all $i,j \\in \\{1, ..., k\\}$.\nFor example, $(1243)$ occurs twice in the permutation $(314625)$: once as the 1st, 3rd, 4th and 6th elements $(3\\,\\,46\\,\\,5)$, and once as the 2nd, 3rd, 4th and 6th elements $(\\,\\,146\\,\\,5)$.\nLet $f(n, m)$ be the number of permutations $P$ of length at most $n$ such that there is no occurrence of the permutation $1243$ in $P$ and there are at most $m$ occurrences of the permutation $21$ in $P$.\nFor example, $f(2,0) = 3$, with the permutations $()$, $(1)$, $(1,2)$ but not $(2,1)$.\nYou are also given that $f(4, 5) = 32$ and $f(10, 25) = 294\\,400$.\nFind $f(10^{18}, 40)$ modulo $1\\,000\\,000\\,007$.\n",
      "html": "\n<p>Let $(p_1 p_2 \\ldots p_k)$ denote the permutation of the set ${1, ..., k}$ that maps $p_i\\mapsto i$. Define the length of the permutation to be $k$; note that the empty permutation $()$ has length zero.</p>\n<p>Define an <i>occurrence</i> of a permutation $p=(p_1 p_2 \\ldots p_k)$ in a permutation $P=(P_1 P_2 \\ldots P_n)$ to be a sequence $1\\leq t_1 &lt; t_2 &lt; \\cdots &lt; t_k \\leq n$ such that $p_i &lt; p_j$ if and only if $P_{t_i} &lt; P_{t_j}$ for all $i,j \\in \\{1, ..., k\\}$.</p>\n<p>For example, $(1243)$ occurs twice in the permutation $(314625)$: once as the 1st, 3rd, 4th and 6th elements $(3\\,\\,46\\,\\,5)$, and once as the 2nd, 3rd, 4th and 6th elements $(\\,\\,146\\,\\,5)$.</p>\n<p>Let $f(n, m)$ be the number of permutations $P$ of length at most $n$ such that there is no occurrence of the permutation $1243$ in $P$ and there are at most $m$ occurrences of the permutation $21$ in $P$.</p>\n<p>For example, $f(2,0) = 3$, with the permutations $()$, $(1)$, $(1,2)$ but not $(2,1)$.</p>\n<p>You are also given that $f(4, 5) = 32$ and $f(10, 25) = 294\\,400$.</p>\n<p>Find $f(10^{18}, 40)$ modulo $1\\,000\\,000\\,007$.</p>\n",
      "images": []
    },
    "info": {
      "published": "Sunday, 15th July 2018, 10:00 am",
      "solved": "77",
      "difficulty": null
    },
    "number": 631
  },
  "622": {
    "title": "Riffle Shuffles",
    "url": "https://projecteuler.net/problem=622",
    "content": {
      "files": [],
      "text": "\n\nA riffle shuffle is executed as follows: a deck of cards is split into two equal halves, with the top half taken in the left hand and the bottom half taken in the right hand. Next, the cards are interleaved exactly, with the top card in the right half inserted just after the top card in the left half, the 2nd card in the right half just after the 2nd card in the left half, etc. (Note that this process preserves the location of the top and bottom card of the deck)\n\n\nLet $s(n)$ be the minimum number of consecutive riffle shuffles needed to restore a deck of size $n$ to its original configuration, where $n$ is a positive even number.\n\nAmazingly, a standard deck of $52$ cards will first return to its original configuration after only $8$ perfect shuffles, so $s(52) = 8$. It can be verified that a deck of $86$ cards will also return to its original configuration after exactly $8$ shuffles, and the sum of all values of $n$ that satisfy $s(n) = 8$ is $412$.\n\n\nFind the sum of all values of n that satisfy $s(n) = 60$.\n\n",
      "html": "\n<p>\nA riffle shuffle is executed as follows: a deck of cards is split into two equal halves, with the top half taken in the left hand and the bottom half taken in the right hand. Next, the cards are interleaved exactly, with the top card in the right half inserted just after the top card in the left half, the 2nd card in the right half just after the 2nd card in the left half, etc. (Note that this process preserves the location of the top and bottom card of the deck)\n</p>\n<p>\nLet $s(n)$ be the minimum number of consecutive riffle shuffles needed to restore a deck of size $n$ to its original configuration, where $n$ is a positive even number.</p>\n<p>\nAmazingly, a standard deck of $52$ cards will first return to its original configuration after only $8$ perfect shuffles, so $s(52) = 8$. It can be verified that a deck of $86$ cards will also return to its original configuration after exactly $8$ shuffles, and the sum of all values of $n$ that satisfy $s(n) = 8$ is $412$.\n</p>\n<p>\nFind the sum of all values of n that satisfy $s(n) = 60$.\n</p>\n",
      "images": []
    },
    "info": {
      "published": "Sunday, 11th March 2018, 07:00 am",
      "solved": "605",
      "difficulty": null
    },
    "number": 622
  },
  "623": {
    "title": "Lambda Count",
    "url": "https://projecteuler.net/problem=623",
    "content": {
      "files": [],
      "text": "\nThe lambda-calculus is a universal model of computation at the core of functional programming languages. It is based on lambda-terms, a minimal programming language featuring only function definitions, function calls and variables. Lambda-terms are built according to the following rules:\nAny variable $x$ (single letter, from some infinite alphabet) is a lambda-term.\nIf $M$ and $N$ are lambda-terms, then $(M N)$ is a lambda-term, called the application of $M$ to $N$.\nIf $x$ is a variable and $M$ is a term, then $(\\lambda x. M)$ is a lambda-term, called an abstraction. An abstraction defines an anonymous function, taking $x$ as parameter and sending back $M$.\nA lambda-term $T$ is said to be closed if for all variables $x$, all occurrences of $x$ within $T$ are contained within some abstraction $(\\lambda x. M)$ in $T$. The smallest such abstraction is said to bind the occurrence of the variable $x$. In other words, a lambda-term is closed if all its variables are bound to parameters of enclosing functions definitions. For example, the term $(\\lambda x. x)$ is closed, while the term $(\\lambda x. (x y))$ is not because $y$ is not bound.\nAlso, we can rename variables as long as no binding abstraction changes. This means that $(\\lambda x. x)$ and $(\\lambda y. y)$ should be considered equivalent since we merely renamed a parameter. Two terms equivalent modulo such renaming are called $\\alpha$-equivalent. Note that $(\\lambda x. (\\lambda y. (x y)))$ and $(\\lambda x. (\\lambda x. (x x)))$ are not $\\alpha$-equivalent, since the abstraction binding the first variable was the outer one and becomes the inner one. However, $(\\lambda x. (\\lambda y. (x y)))$ and $(\\lambda y. (\\lambda x. (y x)))$ are $\\alpha$-equivalent.\nThe following table regroups the lambda-terms that can be written with at most $15$ symbols, symbols being parenthesis, $\\lambda$, dot and variables.\n\n\\[\\begin{array}{|c|c|c|c|}\n\\hline\n(\\lambda x.x) & (\\lambda x.(x x)) & (\\lambda x.(\\lambda y.x)) & (\\lambda x.(\\lambda y.y)) \\\\\n\\hline\n(\\lambda x.(x (x x))) & (\\lambda x.((x x) x)) & (\\lambda x.(\\lambda y.(x x))) & (\\lambda x.(\\lambda y.(x y))) \\\\\n\\hline\n(\\lambda x.(\\lambda y.(y x))) & (\\lambda x.(\\lambda y.(y y))) & (\\lambda x.(x (\\lambda y.x))) & (\\lambda x.(x (\\lambda y.y))) \\\\\n\\hline\n(\\lambda x.((\\lambda y.x) x)) & (\\lambda x.((\\lambda y.y) x)) & ((\\lambda x.x) (\\lambda x.x)) & (\\lambda x.(x (x (x x)))) \\\\\n\\hline\n(\\lambda x.(x ((x x) x))) & (\\lambda x.((x x) (x x))) & (\\lambda x.((x (x x)) x)) & (\\lambda x.(((x x) x) x)) \\\\\n\\hline\n\\end{array}\\]\n\nLet be $\\Lambda(n)$ the number of distinct closed lambda-terms that can be written using at most $n$ symbols, where terms that are $\\alpha$-equivalent to one another should be counted only once. You are given that $\\Lambda(6) = 1$, $\\Lambda(9) = 2$, $\\Lambda(15) = 20$ and $\\Lambda(35) = 3166438$.\nFind $\\Lambda(2000)$. Give the answer modulo $1\\,000\\,000\\,007$.\n",
      "html": "\n<p>The <i>lambda-calculus</i> is a universal model of computation at the core of functional programming languages. It is based on <i>lambda-terms</i>, a minimal programming language featuring only function definitions, function calls and variables. Lambda-terms are built according to the following rules:</p>\n<ul><li>Any <i>variable</i> $x$ (single letter, from some infinite alphabet) is a lambda-term.</li>\n<li>If $M$ and $N$ are lambda-terms, then $(M N)$ is a lambda-term, called the <i>application</i> of $M$ to $N$.</li>\n<li>If $x$ is a variable and $M$ is a term, then $(\\lambda x. M)$ is a lambda-term, called an <i>abstraction</i>. An abstraction defines an anonymous function, taking $x$ as parameter and sending back $M$.</li>\n</ul><p>A lambda-term $T$ is said to be <i>closed</i> if for all variables $x$, all occurrences of $x$ within $T$ are contained within some abstraction $(\\lambda x. M)$ in $T$. The smallest such abstraction is said to <i>bind</i> the occurrence of the variable $x$. In other words, a lambda-term is closed if all its variables are bound to parameters of enclosing functions definitions. For example, the term $(\\lambda x. x)$ is closed, while the term $(\\lambda x. (x y))$ is not because $y$ is not bound.</p>\n<p>Also, we can rename variables as long as no binding abstraction changes. This means that $(\\lambda x. x)$ and $(\\lambda y. y)$ should be considered equivalent since we merely renamed a parameter. Two terms equivalent modulo such renaming are called <i>$\\alpha$-equivalent</i>. Note that $(\\lambda x. (\\lambda y. (x y)))$ and $(\\lambda x. (\\lambda x. (x x)))$ are not $\\alpha$-equivalent, since the abstraction binding the first variable was the outer one and becomes the inner one. However, $(\\lambda x. (\\lambda y. (x y)))$ and $(\\lambda y. (\\lambda x. (y x)))$ are $\\alpha$-equivalent.</p>\n<p>The following table regroups the lambda-terms that can be written with at most $15$ symbols, symbols being parenthesis, $\\lambda$, dot and variables.</p>\n\n\\[\\begin{array}{|c|c|c|c|}\n\\hline\n(\\lambda x.x) &amp; (\\lambda x.(x x)) &amp; (\\lambda x.(\\lambda y.x)) &amp; (\\lambda x.(\\lambda y.y)) \\\\\n\\hline\n(\\lambda x.(x (x x))) &amp; (\\lambda x.((x x) x)) &amp; (\\lambda x.(\\lambda y.(x x))) &amp; (\\lambda x.(\\lambda y.(x y))) \\\\\n\\hline\n(\\lambda x.(\\lambda y.(y x))) &amp; (\\lambda x.(\\lambda y.(y y))) &amp; (\\lambda x.(x (\\lambda y.x))) &amp; (\\lambda x.(x (\\lambda y.y))) \\\\\n\\hline\n(\\lambda x.((\\lambda y.x) x)) &amp; (\\lambda x.((\\lambda y.y) x)) &amp; ((\\lambda x.x) (\\lambda x.x)) &amp; (\\lambda x.(x (x (x x)))) \\\\\n\\hline\n(\\lambda x.(x ((x x) x))) &amp; (\\lambda x.((x x) (x x))) &amp; (\\lambda x.((x (x x)) x)) &amp; (\\lambda x.(((x x) x) x)) \\\\\n\\hline\n\\end{array}\\]\n\n<p>Let be $\\Lambda(n)$ the number of distinct closed lambda-terms that can be written using at most $n$ symbols, where terms that are $\\alpha$-equivalent to one another should be counted only once. You are given that $\\Lambda(6) = 1$, $\\Lambda(9) = 2$, $\\Lambda(15) = 20$ and $\\Lambda(35) = 3166438$.</p>\n<p>Find $\\Lambda(2000)$. Give the answer modulo $1\\,000\\,000\\,007$.</p>\n",
      "images": []
    },
    "info": {
      "published": "Sunday, 25th March 2018, 10:00 am",
      "solved": "194",
      "difficulty": null
    },
    "number": 623
  }
}